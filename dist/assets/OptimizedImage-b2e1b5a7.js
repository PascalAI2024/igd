import{j as a}from"./index-856254fc.js";import{r as e}from"./react-vendor-9ae03318.js";import{au as r}from"./ui-vendor-9d8d9fc4.js";const t=({src:t,alt:l,className:s="",width:o,height:i,fallbackIcon:n=a.jsx(r,{className:"w-8 h-8 text-red-500/70"}),fallbackClassName:m="flex items-center justify-center bg-gradient-to-br from-gray-900 to-gray-800",onLoad:d,onError:c})=>{const[g,u]=e.useState(!0),[h,f]=e.useState(!1),[x,j]=e.useState(null);return e.useEffect((()=>{u(!0),f(!1);const a=new Image;return a.src=t,a.onload=()=>{j(t),u(!1),null==d||d()},a.onerror=()=>{u(!1),f(!0),null==c||c()},()=>{a.onload=null,a.onerror=null}}),[t,d,c]),h?a.jsx("div",{className:`${m} ${s}`,style:{width:o?`${o}px`:"100%",height:i?`${i}px`:"100%"},role:"img","aria-label":`${l} (image failed to load)`,children:n}):g?a.jsx("div",{className:`animate-pulse bg-gradient-to-br from-gray-800 to-gray-900 ${s}`,style:{width:o?`${o}px`:"100%",height:i?`${i}px`:"100%"},role:"img","aria-label":`Loading ${l}`}):a.jsx("img",{src:x||"",alt:l,className:s,width:o,height:i,loading:"lazy"})};export{t as O};
